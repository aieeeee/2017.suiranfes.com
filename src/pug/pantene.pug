- var page = { id :"pantene" };

mixin pantene_columm()
  .d-flex.flex-row.align-items-center.flex-wrap
    if (fes.pantene[i].has_page)
      small <i class="fa fa-chevron-right" aria-hidden="true"></i>
    div: b #{j}-#{k}
    div.ml-auto
      +bootstrap_badge_pill( fes.pantenebadges[fes.pantene[i].type].title, fes.pantenebadges[fes.pantene[i].type].style )
  | #{fes.pantene[i].title}
  small.-pantene-hosts
    +pantene_column_hosts()

mixin pantene_column_hosts()
  - for (var o in fes.pantene[i].hosts) {
    | #{fes.pantene[i].hosts[o].title}
    - if (o < fes.pantene[i].hosts.length - 1){
      | ･
    - }
  - }

doctype
html(lang="ja")
  head
    include includes/_mixins.pug
    include includes/_meta.pug
    include includes/_includes.pug
  body
    include includes/_nav.pug
    .wrap
      .container
        .row
          .col-12
            .py-3
              h1 #{page.title}
      .-pantene-index-columns.p-2
        h3 展示一覧
        - for (var j = 3; j > 0; j--) {
          .-pantene-floor
            -   for (var k = 9; k > 0; k--) {
            -     var thereis = false;
            .-pantene-room.p-1
              -     for (var i in fes.pantene) {
              -       if (fes.pantene[i].place.floor == j && fes.pantene[i].place.room == k) {
              -         thereis = true;
              -         if(fes.pantene[i].has_page) {
                a.card.p-2(class=`card-inverse card-${fes.pantenebadges[fes.pantene[i].type].style}`, href=`javascript:void(0);`, data-toggle="modal", data-target=`#pantene_modal_${fes.pantene[i].name}`)
                  +pantene_columm()
                .modal.fade(id=`pantene_modal_${fes.pantene[i].name}`, tabindex="-1", role="dialog", aria-labelledby="exampleModalLabel", aria-hidden="true")
                  .modal-dialog(role="document")
                    .modal-content
                      .modal-header
                        h5 #{fes.pantene[i].id} #{fes.pantene[i].title}
                        button.close(type="button", data-dismiss="modal", aria-label="Close")
                          span(aria-hidden="true") &times;
                      .modal-body
                        p
                          +bootstrap_badge_pill( fes.pantenebadges[fes.pantene[i].type].title, fes.pantenebadges[fes.pantene[i].type].style )
                          small
                            +pantene_column_hosts()
                        p #{fes.pantene[i].description}
              -         } else {
                .card.p-2(class=`card-inverse card-${fes.pantenebadges[fes.pantene[i].type].style}`)
                  +pantene_columm()
              -         }
              -       }
              -     }
              -     if (thereis == false) {
                .card.p-2(class="card-inverse card-danger")
                  .d-flex.flex-row
                    div: b #{j}-#{k}
                    div.ml-auto
                    +bootstrap_badge_pill( "?", "danger" )
                  | 情報なし
              -     }
            - if (k == 7 || k == 3) {
              .-pantene-stairs.p-1
                - if (j == 1 && k == 7) {
                  .card.p-2(class="card-inverse card-info")
                    | 出入口
                - } else if (j == 1 && k == 3) {
                  .card.p-2(class="card-inverse card-info")
                    | 出口
                - } else {
                  .card.p-2(class="card-inverse card-warning")
                    | 階段
                - }
            - }
            -   }
        - }
    include includes/_footer.pug